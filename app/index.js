System.registerDynamic("app/environment.js",[],!0,function(a,b,c){"use strict";return b.environment={production:!0},c.exports}),System.registerDynamic("app/map/map.component.js",["@angular/core","d3"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("d3"),h=function(){function a(a){this.elementRef=a,this.margin={left:-9,right:0,bottom:0,top:210},this.container=g.select(a.nativeElement)}return a.prototype.ngOnInit=function(){this.canvas=this.container.select("#canvas"),this.canvas.append("rect").attr("x",0).attr("y",0).attr("width",this.width).attr("height",this.height).style("fill","rgb(180,215,253)"),this.chartArea=this.canvas.append("g").attr("class","chart").attr("transform","translate("+this.margin.left+" "+this.margin.top+")"),this.zoomLayer=this.chartArea.append("g").attr("class","zoom"),this.chartAreaWidth=this.width-this.margin.left-this.margin.right,this.chartAreaHeight=this.height-this.margin.top-this.margin.bottom,this.chartAreaClip=this.canvas.append("defs").append("clipPath").attr("id","clip").append("rect").attr("x",this.margin.left).attr("y",this.margin.top).attr("width",this.chartAreaWidth).attr("height",this.chartAreaHeight),this.dataArea=this.chartArea.append("g").attr("id","data").attr("clip-path","url(#clip)"),this.toolTip=g.select("#tooltip")},a.prototype.ngOnChanges=function(){var a=this;if(this.data&&this.map){this.projection=g.geo.mercator();var b=g.geo.path().projection(this.projection),c=(this.zoomLayer.append("g").attr("class","map").selectAll("path").data(this.map.features.filter(function(a){return"Antarctica"!=a.properties.continent})).enter().append("path").attr("d",b).style("stroke","#a6611a").style("fill","#fee8c8"),g.scale.pow().exponent(.4).domain(g.extent(this.data.map(function(a){return a.properties.mass}))).range([2,20]));this.meteorites=this.zoomLayer.append("g").attr("class","meteorites").selectAll("circle"),this.meteorites.data(this.data.filter(function(a){return null!=a.geometry})).enter().append("circle").attr("cx",function(b){return a.projection(b.geometry.coordinates)[0]}).attr("cy",function(b){return a.projection(b.geometry.coordinates)[1]}).attr("r",function(a){return c(a.properties.mass)}).attr("opacity","0.5").style("fill","darkred").on("mouseenter",function(b,c){a.toolTip.style("visibility","visible"),a.toolTip.html("<b>"+b.properties.name+"</b><br/>Year: "+b.properties.year+"<br>"+a.getWeight(b.properties.mass)+"<br>Class: "+b.properties.recclass.substring(0,10));var d=a.projection(b.geometry.coordinates)[0]-69,e=a.chartAreaHeight-a.projection(b.geometry.coordinates)[1]+90;a.toolTip.style("left",d+"px"),a.toolTip.style("bottom",e+"px")}).on("mouseleave",function(b){a.toolTip.style("visibility","hidden")})}},a.prototype.getWeight=function(a){return 0==a?"Unknown weight":1e3>a?"Weight: "+a+"g":1e6>a?"Weight: "+(a/1e3).toFixed(1)+"kg":"Weight: "+(a/1e6).toFixed(1)+"t"},d([f.Input(),e("design:type",Array)],a.prototype,"data",void 0),d([f.Input(),e("design:type",Object)],a.prototype,"map",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"width",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"height",void 0),a=d([f.Component({moduleId:c.id,selector:"app-map",templateUrl:"map.component.html"}),e("design:paramtypes",[f.ElementRef])],a)}();return b.MapComponent=h,c.exports}),System.registerDynamic("app/map/index.js",["./map.component"],!0,function(a,b,c){"use strict";var d=a("./map.component");return b.MapComponent=d.MapComponent,c.exports}),System.registerDynamic("app/+meteorite/meteorite.component.js",["@angular/core","../data.service","../map"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("../data.service"),h=a("../map"),i=function(){function a(a){var b=this;this.dataService=a,this.dataService.getMeteorites().subscribe(function(a){b.data=a.filter(function(a){return null!=a.properties.year}).map(function(a){return a.properties.mass=+a.properties.mass,a.properties.year=+a.properties.year.substring(0,4),a}).sort(function(a,b){return a.properties.year-b.properties.year})}),this.dataService.getWorldMap().subscribe(function(a){return b.worldMap=a})}return a.prototype.ngOnInit=function(){},a=d([f.Component({moduleId:c.id,selector:"app-meteorite",templateUrl:"meteorite.component.html",directives:[h.MapComponent]}),e("design:paramtypes",[g.DataService])],a)}();return b.MeteoriteComponent=i,c.exports}),System.registerDynamic("app/+meteorite/index.js",["./meteorite.component"],!0,function(a,b,c){"use strict";var d=a("./meteorite.component");return b.MeteoriteComponent=d.MeteoriteComponent,c.exports}),System.registerDynamic("app/header/header.component.js",["@angular/core","@angular/router"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=function(){function a(){}return a.prototype.ngOnInit=function(){},a=d([f.Component({moduleId:c.id,selector:"app-header",templateUrl:"header.component.html",directives:[g.ROUTER_DIRECTIVES]}),e("design:paramtypes",[])],a)}();return b.HeaderComponent=h,c.exports}),System.registerDynamic("app/header/index.js",["./header.component"],!0,function(a,b,c){"use strict";var d=a("./header.component");return b.HeaderComponent=d.HeaderComponent,c.exports}),System.registerDynamic("app/+home/home.component.js",["@angular/core","@angular/router"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=function(){function a(){}return a.prototype.ngOnInit=function(){},a=d([f.Component({moduleId:c.id,selector:"app-home",templateUrl:"home.component.html",directives:[g.ROUTER_DIRECTIVES]}),e("design:paramtypes",[])],a)}();return b.HomeComponent=h,c.exports}),System.registerDynamic("app/+home/index.js",["./home.component"],!0,function(a,b,c){"use strict";var d=a("./home.component");return b.HomeComponent=d.HomeComponent,c.exports}),System.registerDynamic("app/bar-chart/bar-chart.component.js",["@angular/core","d3"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("d3"),h=function(){function a(a){this.elementRef=a,this.margin={left:55,right:20,bottom:30,top:20},this.transitionTime=500,this.container=g.select(a.nativeElement)}return a.prototype.ngOnInit=function(){this.canvas=this.container.select("#canvas"),this.chartArea=this.canvas.append("g").attr("class","chart").attr("transform","translate("+this.margin.left+" "+this.margin.top+")"),this.chartAreaWidth=this.width-this.margin.left-this.margin.right,this.chartAreaHeight=this.height-this.margin.top-this.margin.bottom,this.chartAreaClip=this.canvas.append("defs").append("clipPath").attr("id","clip").append("rect").attr("x",this.margin.left).attr("y",this.margin.top).attr("width",this.chartAreaWidth).attr("height",this.chartAreaHeight),this.dataArea=this.chartArea.append("g").attr("id","data").attr("clip-path","url(#clip)"),this.toolTip=g.select("#tooltip")},a.prototype.ngOnChanges=function(){var a=this;if(this.data){var b=this.data.map(function(a){return a.value}),c=g.scale.linear().domain([0,g.max(b)]).range([0,this.chartAreaHeight].reverse()).nice(),d=g.svg.axis().scale(c).ticks(10).orient("left"),e=this.data.map(function(a){return a.date});this.xScale=g.scale.ordinal().domain(e.map(function(b){return a.toQuarter(b)})).rangeBands([0,this.chartAreaWidth],.2);for(var f=20,h=e.map(function(b){return a.toQuarter(b)}).filter(function(a){return a.startsWith("Q1")});h.length>f;)h=h.filter(function(a,b){return b%2!=1});var i=g.svg.axis().scale(this.xScale).tickValues(h).tickFormat(function(a){return a.substr(3)}).orient("bottom"),j=this.dataArea.selectAll("rect").data(this.data,function(a){return a.date.toUTCString()});j.enter().append("rect").attr("x",function(b){return a.xScale(a.toQuarter(b.date))}).attr("y",c(c.domain()[0])).attr("width",this.xScale.rangeBand()).attr("height",0).on("mouseover",function(b,c){a.toolTip.style("visibility","visible"),a.toolTip.html(a.toQuarter(b.date)+"<br/>"+b.value+" Billion US$");var d=a.dataArea.selectAll("rect").filter(function(a){return a==b}),e=+d.attr("x")+a.xScale.rangeBand()/2,f=+d.attr("y");f=a.chartAreaHeight-f+90,a.toolTip.style("left",e+"px"),a.toolTip.style("bottom",f+"px")}).on("mouseout",function(b){a.toolTip.style("visibility","hidden")}),j.transition().duration(this.transitionTime).ease("linear").attr("x",function(b){return a.xScale(a.toQuarter(b.date))}).attr("y",function(a){return c(a.value)}).attr("width",this.xScale.rangeBand()).attr("height",function(b){return a.chartAreaHeight-c(b.value)}),this.chartArea.select("#y-axis").remove(),this.chartArea.append("g").attr("id","y-axis").attr("class","axis y").call(d),this.chartArea.select("#x-axis").remove(),this.chartArea.append("g").attr("id","x-axis").attr("class","axis x").attr("transform","translate(0, "+this.chartAreaHeight+")").call(i);var k=j.exit().size(),l=j.exit().filter(function(b){return b.date<=a.data[0].date}).size()>0,m=this.xScale(this.toQuarter(this.data[1].date))-this.xScale(this.toQuarter(this.data[0].date));j.exit().transition().duration(this.transitionTime).ease("linear").attr("y",function(a){return c(a.value)}).attr("height",function(b){return a.chartAreaHeight-c(b.value)}).attr("x",function(b,c){var d=(a.data[Math.round(a.data.length/2)].date,b.date,l?-(k-c):c-a.data.length+1),e=l?0:a.chartAreaWidth;return e+d*m}).remove()}},a.prototype.toQuarter=function(a){var b="Q";return b+=a.getUTCMonth()/3+1,b+=" ",b+=a.getUTCFullYear()},d([f.Input(),e("design:type",Array)],a.prototype,"data",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"width",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"height",void 0),a=d([f.Component({moduleId:c.id,selector:"app-bar-chart",templateUrl:"bar-chart.component.html"}),e("design:paramtypes",[f.ElementRef])],a)}();return b.BarChartComponent=h,c.exports}),System.registerDynamic("app/+gdp/gdp.component.js",["@angular/core","@angular/common","rxjs/Observable","rxjs/add/observable/combineLatest","rxjs/add/operator/debounceTime","../data.service","../bar-chart/bar-chart.component"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/common"),h=a("rxjs/Observable");a("rxjs/add/observable/combineLatest"),a("rxjs/add/operator/debounceTime");var i=a("../data.service"),j=a("../bar-chart/bar-chart.component"),k=function(){function a(a){this.dataService=a,this.yearFrom=new g.Control,this.yearTo=new g.Control}return a.prototype.ngOnInit=function(){var a=this;this.dataService.getGdpData().subscribe(function(b){var c=b.map(function(a){var b={value:a[1],date:new Date(a[0])};return b});a.data=c,a.years=a.data.map(function(a){return a.date.getUTCFullYear()}).filter(function(a,b,c){return c.indexOf(a)==b}),a.yearFrom.valueChanges.subscribe(function(b){a.yearTo.value<b&&a.yearTo.updateValue(b)}),a.yearTo.valueChanges.subscribe(function(b){a.yearFrom.value>b&&a.yearFrom.updateValue(b)}),h.Observable.combineLatest(a.yearFrom.valueChanges,a.yearTo.valueChanges).debounceTime(50).subscribe(function(b){var c=b[0],d=b[1];a.filteredData=a.data.filter(function(a){return a.date.getUTCFullYear()>=c&&a.date.getUTCFullYear()<=d})}),a.showAllData()})},a.prototype.showAllData=function(){this.years&&(this.yearFrom.updateValue(this.years[0]),this.yearTo.updateValue(this.years[this.years.length-1]))},a=d([f.Component({moduleId:c.id,selector:"app-gdp",templateUrl:"gdp.component.html",directives:[j.BarChartComponent]}),e("design:paramtypes",[i.DataService])],a)}();return b.GdpComponent=k,c.exports}),System.registerDynamic("app/+gdp/index.js",["./gdp.component"],!0,function(a,b,c){"use strict";var d=a("./gdp.component");return b.GdpComponent=d.GdpComponent,c.exports}),System.registerDynamic("app/scatterplot-chart/scatterplot-chart.component.js",["@angular/core","d3"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("d3"),h=function(){function a(a){this.elementRef=a,this.margin={left:55,right:20,bottom:30,top:20},this.transitionTime=500,this.container=g.select(a.nativeElement)}return a.prototype.ngOnInit=function(){this.canvas=this.container.select("#canvas"),this.chartArea=this.canvas.append("g").attr("class","chart").attr("transform","translate("+this.margin.left+" "+this.margin.top+")"),this.chartAreaWidth=this.width-this.margin.left-this.margin.right,this.chartAreaHeight=this.height-this.margin.top-this.margin.bottom,this.chartAreaClip=this.canvas.append("defs").append("clipPath").attr("id","clip").append("rect").attr("x",this.margin.left).attr("y",this.margin.top).attr("width",this.chartAreaWidth).attr("height",this.chartAreaHeight),this.dataArea=this.chartArea.append("g").attr("id","data").attr("clip-path","url(#clip)"),this.toolTip=g.select("#tooltip")},a.prototype.ngOnChanges=function(){var a=this;if(this.data){var b=this.data.map(function(a){return a.place}),c=g.scale.linear().domain([g.min(b),g.max(b)+1]).range([0,this.chartAreaHeight]),d=g.svg.axis().scale(c).tickValues([1,5,10,15,20,25,30,35]).orient("left"),e=this.data.map(function(a){return a.time}),f=g.scale.linear().domain([g.min(e),1.05*g.max(e)]).range([0,this.chartAreaWidth].reverse()).nice(),h=g.svg.axis().scale(f).ticks(10).tickFormat(function(b){return a.formatTime(b)}).orient("bottom"),i=this.dataArea.selectAll("circle").data(this.data);i.enter().append("circle").attr("cx",function(a){return f(a.time)}).attr("cy",function(a){return c(a.place)}).attr("r",6).attr("fill",function(a){return a.doping?"red":"green"}).on("mouseover",function(b,c){var d=a.dataArea.selectAll("circle").filter(function(a){return a==b});d.attr("r",10);var e=+d.attr("cx")-45,f=a.chartAreaHeight-+d.attr("cy")+100;a.toolTip.style("left",e+"px"),a.toolTip.style("bottom",f+"px"),a.toolTip.html(a.getToolTipHtml(b)),a.toolTip.style("visibility","visible")}).on("mouseout",function(b){var c=a.dataArea.selectAll("circle").filter(function(a){return a==b});c.attr("r",6),a.toolTip.style("visibility","hidden")}),this.chartArea.select("#y-axis").remove(),this.chartArea.append("g").attr("id","y-axis").attr("class","axis y").call(d),this.chartArea.select("#x-axis").remove(),this.chartArea.append("g").attr("id","x-axis").attr("class","axis x").attr("transform","translate(0, "+this.chartAreaHeight+")").call(h)}},a.prototype.getToolTipHtml=function(a){return"<b>"+a.place+". "+a.name+"</b>, "+a.nationality+"<br/>Year: "+a.year+"; Time: "+a.totalTime+"<br/>"},a.prototype.formatTime=function(a){var b=Math.floor(a/60),c=a%60,d=10>c?0==c?"00":"0"+c:c.toString();return b.toString()+":"+d},d([f.Input(),e("design:type",Array)],a.prototype,"data",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"width",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"height",void 0),a=d([f.Component({moduleId:c.id,selector:"app-scatterplot-chart",templateUrl:"scatterplot-chart.component.html"}),e("design:paramtypes",[f.ElementRef])],a)}();return b.ScatterplotChartComponent=h,c.exports}),System.registerDynamic("app/scatterplot-chart/index.js",["./scatterplot-chart.component"],!0,function(a,b,c){"use strict";var d=a("./scatterplot-chart.component");return b.ScatterplotChartComponent=d.ScatterplotChartComponent,c.exports}),System.registerDynamic("app/+cycling/cycling.component.js",["@angular/core","../data.service","../scatterplot-chart"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("../data.service"),h=a("../scatterplot-chart"),i=function(){function a(a){this.dataService=a}return a.prototype.ngOnInit=function(){var a=this;this.dataService.getCyclingData().subscribe(function(b){var c=b.map(function(a){return a.Seconds}).reduce(function(a,b){return Math.min(a,b)}),d=b.map(function(a){var b={place:a.Place,time:a.Seconds-c,doping:a.Doping.length>0,name:a.Name,year:a.Year,nationality:a.Nationality,dopingDetails:a.Doping,totalTime:a.Time,reference:a.URL};return b});a.data=d})},a=d([f.Component({moduleId:c.id,selector:"app-cycling",templateUrl:"cycling.component.html",directives:[h.ScatterplotChartComponent]}),e("design:paramtypes",[g.DataService])],a)}();return b.CyclingComponent=i,c.exports}),System.registerDynamic("app/+cycling/index.js",["./cycling.component"],!0,function(a,b,c){"use strict";var d=a("./cycling.component");return b.CyclingComponent=d.CyclingComponent,c.exports}),System.registerDynamic("app/heat-map/heat-map.component.js",["@angular/core","d3"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("d3"),h=8.66,i=["January","February","March","April","May","June","July","August","September","October","November","December"],j=function(){function a(a){this.elementRef=a,this.margin={left:55,right:40,bottom:30,top:20},this.container=g.select(a.nativeElement)}return a.prototype.ngOnInit=function(){this.canvas=this.container.select("#canvas"),this.chartArea=this.canvas.append("g").attr("class","chart").attr("transform","translate("+this.margin.left+" "+this.margin.top+")"),this.chartAreaWidth=this.width-this.margin.left-this.margin.right,this.chartAreaHeight=this.height-this.margin.top-this.margin.bottom,this.chartAreaClip=this.canvas.append("defs").append("clipPath").attr("id","clip").append("rect").attr("x",this.margin.left).attr("y",this.margin.top).attr("width",this.chartAreaWidth).attr("height",this.chartAreaHeight),this.dataArea=this.chartArea.append("g").attr("id","data").attr("clip-path","url(#clip)"),this.toolTip=g.select("#tooltip")},a.prototype.ngOnChanges=function(){var a=this;if(this.aggregatedData=this.calculateAverageTemperatures(this.data),this.data){for(var b=g.scale.linear().domain([12,0]).range([0,this.chartAreaHeight]),c=[],d=1;12>=d;d++)c.push(d-.5);var e=g.svg.axis().scale(b).tickValues(c).tickFormat(function(a){return i[a-.5].substring(0,3).toUpperCase()}).orient("left"),f=this.data.map(function(a){return a.year}),j=g.scale.linear().domain([g.min(f),g.max(f)+1]).range([0,this.chartAreaWidth]),k=g.svg.axis().scale(j).ticks(20).tickFormat(g.format("d")).orient("bottom"),l=this.aggregatedData.map(function(a){return a.temperature}),m=g.scale.linear().domain([g.min(l),g.max(l)]).range([0,this.chartAreaHeight].reverse()).nice(),n=g.svg.axis().scale(m).ticks(20).orient("right"),o="M";o+=Math.round(j(this.aggregatedData[0].year)),o+=",",o+=Math.round(m(this.aggregatedData[0].temperature));for(var d=1;d<this.aggregatedData.length;d++)o+="L",o+=Math.round(j(this.aggregatedData[d].year)),o+=",",o+=Math.round(m(this.aggregatedData[d].temperature));var p=this.data.map(function(a){return a.variance}),q=["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],r=g.scale.quantile().domain([g.min(p),g.max(p)]).range(q.reverse());this.dataArea.selectAll("rect").data(this.data).enter().append("rect").attr("x",function(a){return j(a.year)}).attr("y",function(a){return b(a.month)}).attr("width",j(2015)-j(2014)).attr("height",b(1)-b(2)).attr("style",function(a){return"fill:"+r(a.variance)}).on("mouseover",function(b,c){a.toolTip.style("visibility","visible");var d=h+b.variance;a.toolTip.html("<b>"+i[b.month-1]+" "+b.year+"</b><br/>"+d.toFixed(1)+"&#8451; ("+b.variance+")");var e=a.dataArea.selectAll("rect").filter(function(a){return a==b}),f=+e.attr("x")-3,g=+e.attr("y");g=a.chartAreaHeight-g+60,a.toolTip.style("left",f+"px"),a.toolTip.style("bottom",g+"px")}).on("mouseout",function(b){a.toolTip.style("visibility","hidden")});this.dataArea.append("path").attr("d",o).attr("stroke","lightgray").attr("stroke-width","5").attr("fill","none"),this.dataArea.append("path").attr("d",o).attr("stroke","black").attr("stroke-width","1").attr("fill","none"),this.chartArea.select("#y-axis").remove(),this.chartArea.append("g").attr("id","y-axis").attr("class","axis y").call(e),this.chartArea.select("#x-axis").remove(),this.chartArea.append("g").attr("id","x-axis").attr("class","axis x").attr("transform","translate(0, "+this.chartAreaHeight+")").call(k),this.chartArea.append("g").attr("id","y-axis-secondary").attr("class","axis y secondary").attr("transform","translate("+this.chartAreaWidth+")").call(n)}},a.prototype.calculateAverageTemperatures=function(a){if(!a)return null;var b={},c=[];a.map(function(a){a.year in b?(c.push(a.year),b[a.year]+=a.variance):b[a.year]=a.variance});for(var d=[],e=0,f=c;e<f.length;e++){var g=f[e];d.push({year:g,temperature:h+b[g]/12})}return d},d([f.Input(),e("design:type",Array)],a.prototype,"data",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"width",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"height",void 0),a=d([f.Component({moduleId:c.id,selector:"app-heat-map",templateUrl:"heat-map.component.html"}),e("design:paramtypes",[f.ElementRef])],a)}();return b.HeatMapComponent=j,c.exports}),System.registerDynamic("app/heat-map/index.js",["./heat-map.component"],!0,function(a,b,c){"use strict";var d=a("./heat-map.component");return b.HeatMapComponent=d.HeatMapComponent,c.exports}),System.registerDynamic("app/+temperature/temperature.component.js",["@angular/core","../heat-map","../data.service"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("../heat-map"),h=a("../data.service"),i=function(){function a(a){var b=this;this.dataService=a,this.dataService.getTemperature().subscribe(function(a){return b.data=a})}return a.prototype.ngOnInit=function(){},a=d([f.Component({moduleId:c.id,selector:"app-temperature",templateUrl:"temperature.component.html",directives:[g.HeatMapComponent]}),e("design:paramtypes",[h.DataService])],a)}();return b.TemperatureComponent=i,c.exports}),System.registerDynamic("app/+temperature/index.js",["./temperature.component"],!0,function(a,b,c){"use strict";var d=a("./temperature.component");return b.TemperatureComponent=d.TemperatureComponent,c.exports}),System.registerDynamic("app/data.service.js",["@angular/core","@angular/http","rxjs/add/operator/map"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/http");a("rxjs/add/operator/map");var h=function(){function a(a){this.http=a}return a.prototype.getGdpData=function(){return this.http.get("data/GDP-data.json").map(function(a){return a.json()}).map(function(a){return a.data})},a.prototype.getCyclingData=function(){return this.http.get("data/cycling-data.json").map(function(a){return a.json()})},a.prototype.getTemperature=function(){return this.http.get("data/temperature.json").map(function(a){return a.json()}).map(function(a){return a.monthlyVariance})},a.prototype.getCountries=function(){return this.http.get("data/countries.json").map(function(a){return a.json()})},a.prototype.getMeteorites=function(){return this.http.get("data/meteorites.json").map(function(a){return a.json()}).map(function(a){return a.features})},a.prototype.getWorldMap=function(){return this.http.get("data/world.geojson").map(function(a){return a.json()})},a=d([f.Injectable(),e("design:paramtypes",[g.Http])],a)}();return b.DataService=h,c.exports}),System.registerDynamic("app/force-directed-graph/force-directed-graph.component.js",["@angular/core","d3"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("d3"),h=function(){function a(a){this.elementRef=a,this.margin={left:20,right:20,bottom:20,top:20},this.container=g.select(a.nativeElement)}return a.prototype.ngOnInit=function(){this.canvas=this.container.select("#canvas"),this.chartArea=this.canvas.append("g").attr("class","chart").attr("transform","translate("+this.margin.left+" "+this.margin.top+")"),this.chartAreaWidth=this.width-this.margin.left-this.margin.right,this.chartAreaHeight=this.height-this.margin.top-this.margin.bottom,this.chartAreaClip=this.canvas.append("defs").append("clipPath").attr("id","clip").append("rect").attr("x",this.margin.left).attr("y",this.margin.top).attr("width",this.chartAreaWidth).attr("height",this.chartAreaHeight),this.dataArea=this.chartArea.append("g").attr("id","data").attr("clip-path","url(#clip)")},a.prototype.ngOnChanges=function(){if(this.nodes&&this.links){var a=g.layout.force().nodes(this.nodes).links(this.links).charge(-160).linkDistance(50).friction(.8).size([this.chartAreaWidth,this.chartAreaHeight]).start(),b=this.dataArea.selectAll(".link").data(this.links).enter().append("line").attr("class","link").style("stroke","lightgray").style("stroke-width","1"),c=this.dataArea.selectAll(".node").data(this.nodes).enter().append("image").attr("xlink:href",function(a){return"flags/"+a.code+".png"}).attr("width","32px").attr("height","32px").attr("opacity",1).call(a.drag);a.on("tick",function(){b.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),c.attr("x",function(a){return a.x-16}).attr("y",function(a){return a.y-16})})}},d([f.Input(),e("design:type",Array)],a.prototype,"nodes",void 0),d([f.Input(),e("design:type",Array)],a.prototype,"links",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"width",void 0),d([f.Input(),e("design:type",Number)],a.prototype,"height",void 0),a=d([f.Component({moduleId:c.id,selector:"app-force-directed-graph",templateUrl:"force-directed-graph.component.html"}),e("design:paramtypes",[f.ElementRef])],a)}();return b.ForceDirectedGraphComponent=h,c.exports}),System.registerDynamic("app/force-directed-graph/index.js",["./force-directed-graph.component"],!0,function(a,b,c){"use strict";var d=a("./force-directed-graph.component");return b.ForceDirectedGraphComponent=d.ForceDirectedGraphComponent,c.exports}),System.registerDynamic("app/+countries/countries.component.js",["@angular/core","../data.service","../force-directed-graph"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("../data.service"),h=a("../force-directed-graph"),i=function(){function a(a){var b=this;this.dataService=a,this.dataService.getCountries().subscribe(function(a){b.nodes=a.nodes,b.links=a.links})}return a.prototype.ngOnInit=function(){},a=d([f.Component({moduleId:c.id,selector:"app-states",templateUrl:"countries.component.html",
directives:[h.ForceDirectedGraphComponent]}),e("design:paramtypes",[g.DataService])],a)}();return b.CountriesComponent=i,c.exports}),System.registerDynamic("app/+countries/index.js",["./countries.component"],!0,function(a,b,c){"use strict";var d=a("./countries.component");return b.CountriesComponent=d.CountriesComponent,c.exports}),System.registerDynamic("app/+test/test.component.js",["@angular/core","@angular/router"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=function(){function a(){}return a.prototype.ngOnInit=function(){},a=d([f.Component({moduleId:c.id,selector:"app-test",templateUrl:"test.component.html",directives:[g.ROUTER_DIRECTIVES]}),e("design:paramtypes",[])],a)}();return b.TestComponent=h,c.exports}),System.registerDynamic("app/+test/index.js",["./test.component"],!0,function(a,b,c){"use strict";var d=a("./test.component");return b.TestComponent=d.TestComponent,c.exports}),System.registerDynamic("app/d3-playground.component.js",["@angular/core","@angular/router","./+meteorite","./data.service","./header","./+home","./+gdp","./+cycling","./+temperature","./+countries","./+test"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=a("./+meteorite"),i=a("./data.service"),j=a("./header"),k=a("./+home"),l=a("./+gdp"),m=a("./+cycling"),n=a("./+temperature"),o=a("./+countries"),p=a("./+test"),q=function(){function a(a){this.router=a}return a=d([f.Component({moduleId:c.id,selector:"d3-playground-app",templateUrl:"d3-playground.component.html",providers:[g.ROUTER_PROVIDERS,i.DataService],directives:[g.ROUTER_DIRECTIVES,j.HeaderComponent]}),g.Routes([{path:"/",component:k.HomeComponent},{path:"/gdp",component:l.GdpComponent},{path:"/test",component:p.TestComponent},{path:"/cycling",component:m.CyclingComponent},{path:"/temperature",component:n.TemperatureComponent},{path:"/countries",component:o.CountriesComponent},{path:"/meteorite",component:h.MeteoriteComponent}]),e("design:paramtypes",[g.Router])],a)}();return b.D3PlaygroundAppComponent=q,c.exports}),System.registerDynamic("app/index.js",["./environment","./d3-playground.component"],!0,function(a,b,c){"use strict";var d=a("./environment");b.environment=d.environment;var e=a("./d3-playground.component");return b.D3PlaygroundAppComponent=e.D3PlaygroundAppComponent,c.exports});